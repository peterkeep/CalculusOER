<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="sec-BuildingTaylorSeries" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>How to Build Taylor Series</title>
  <introduction>
    <p>
      Let's first clear the air: we've been talking about <xref ref="def-PolynomialApproximation" text="custom">Taylor Polynomials</xref> that are partial sums of some larger infinite series. Then we talked about <xref ref="def-PowerSeries" text="title"/>, a generic structure of an infinite series of power functions of <m>x</m>. We want to combine these together, and name the specific power series that these Polynomial Approximations are partial sums of.
    </p>
    <definition xml:id="def-TaylorSeries">
      <title>Taylor Series</title>
      <statement>
        <p>
          If <m>f(x)</m> is an infinitely differentiable function at <m>x=a</m>, then the <term>Taylor series</term> expansion of <m>f(x)</m> centered at <m>x=a</m> is:
          <me>
            \sum_{k=0}^\infty \frac{f^{(k)}(a)}{k!}(x-a)^k
          </me>.
        </p>
      </statement>
    </definition>
    <aside>
      <p>
        If the Taylor series expansion of <m>f(x)</m> is centered at <m>x=0</m>, some people name these specifically, calling them <term>Maclaurin series</term>.  Colin Maclaurin made good use of Taylor series, and so is credited with having this special case named after him. 
      </p>
    </aside>
    <p>
      Now that we have named these Taylor series, we want to work on constructing these Taylor series for a given function. In this section, we'll investigate a couple of ways that we can do this.
    </p>
  </introduction>
  <subsection xml:id="subsec-Directly">
    <title>Constructing Directly</title>
    <p>
      We saw in <xref ref="sec-PolynomialApproximation" text="type-global-title"/> that we can use the idea of a polynomial partial sum to build out a Taylor series representation for a function.
    </p>
    <p>
      We'll need to build a bunch of terms for some Taylor polynomial, and then we can hopefully extrapolate afterwards. We want to come up with a general formula to define these terms, so that we can write the explicit formula in the infinite series, but we know that this, in general, is a difficult task! It's <em>hard</em> to find these explicit formulas for the terms in these series.
    </p>
    <p>
      It's not impossible, though! You can remind yourself of how we've done this! We found (and speculated about) the Taylor series for <m>f(x)=e^x</m>, <m>f(x)=\sin(x)</m>, and <m>f(x)=\cos(x)</m> (all centered at <m>x=0</m>) in <xref ref="act-BuildPolynomial" text="type-global-title"/> and <xref ref="act-PartialSumsOfWhat" text="type-global-title"/>.
    </p>
    <xi:include href="./activities/act-ConstructDirectly.ptx" />
  </subsection>
  <subsection xml:id="subsec-ConnectionsToOther">
    <title>Connections To Other Taylor Series</title>
    <p>
      A (hopefully) more useful strategy is to collect the Taylor series that we know, and then try to build a series for a function based on how that function relates. We saw this in <xref ref="thm-OperationsPowerSeries" text="type-global-title"/> and <xref ref="thm-DiffPowerSeries" text="type-global-title"/>.
    </p>
    <xi:include href="./activities/act-ConnectingToAnotherSeries.ptx" />
    <p>
      We're going to try this again with a different function as the goal!
    </p>
    <xi:include href="./activities/act-ConnectingToAnotherSeriesArcTan.ptx" />
    <p>
      Now we can update our list of <q>known</q> series!
    </p>
    <assemblage xml:id="strat-KnownSeries">
      <title>Known Taylor Series</title>
      <p>
        <md>
          <mrow>\frac{1}{1-x} \amp = \sum_{k=0}^\infty x^k \amp \text{on }(-1,1)</mrow>
          <mrow>e^x \amp = \sum_{k=0}^\infty \frac{x^k}{k!} \amp \text{on } (-\infty,\infty)</mrow>
          <mrow>\sin(x) \amp = \sum_{k=0}^\infty \frac{(-1)^k x^{2k+1}}{(2k+1)!} \amp \text{on } (-\infty,\infty)</mrow>
          <mrow>\cos(x) \amp = \sum_{k=0}^\infty \frac{(-1)^k x^{2k}}{(2k)!} \amp \text{on } (-\infty,\infty)</mrow>
          <mrow>\ln(1+x) \amp = \sum_{k=0}^\infty \frac{(-1)^k x^{k+1}}{k+1} \amp \text{on } (-1,1]</mrow>
          <mrow>\tan^{-1}(x) \amp = \sum_{k=0}^\infty \frac{(-1)^k x^{2k+1}}{2k+1} \amp \text{on } [-1,1]</mrow>
      </md>
      </p>
    </assemblage>
  </subsection>
  <conclusion>
    <p>
      Most importantly, we can use these two activities as a framework for a more general way of constructing Taylor series representations of functions. If we can link the function we're interested in to one of the functions with a <q>known</q> Taylor series, then we can use the link between functions as a way of linking the respective Taylor series.
    </p>
    <p>
      That is, if we know the Taylor series for <m>f(x)</m> and we want to find the Taylor series for a different function <m>g(x)</m> where <m>g(x)</m> is some sort of transformed version of <m>f(x)</m>, then we can list the transformations or changes to <m>f(x)</m> in order to produce <m>g(x)</m>, and apply those transformations or changes to the Taylor series for <m>f(x)</m>.
    </p>

    <figure xml:id="fig-TaylorSeriesFunction">
      <caption>Constructing a Taylor series from a related series.</caption>
      <image width="80%">
          <shortdescription>
              Two rectangles, one labeled "Taylor Series Context" and the other, beside it, labeled "Function Context." Inside the "Taylor Series Context" rectangle is a power series with an arrow labeled "apply operation A" pointing towards a transformed power series. Inside the "Function Context" rectangle is a function f(x) with an arrow labeled "apply operation A" pointing towards A(f(x)). Two arrows connect the power series and the function as well as the transformed versions, labeled "equivalent on IOC".
          </shortdescription>
          <latex-image>
            \begin{tikzpicture}
                \draw[DCgreen] (0,0) -- (0,5);
                \draw[DCgreen] (0,5) -- (3,5);
                \draw[DCgreen] (3,5) -- (3,0);
                \draw[DCgreen] (3,0) -- (0,0);
                \node[DCgreen] at (1.5, 3.7) [above] {$\displaystyle\sum_{k=0}^\infty c_k(x-a)^k$};
                \node[DCgreen] at (1.5, 1.2) [below] {$\displaystyle\sum_{k=0}^\infty A(c_k(x-a)^k)$};
                \draw[-latex, line width=1.5pt][DCgreen] (1.4, 3.7) -- (1.4, 1.2);
                \node[DCgreen] at (1.4, 2.8) [right] {apply};
                \node[DCgreen] at (1.4, 2.45) [right] {operation};
                \node[DCgreen] at (1.4, 2.1) [right] {$A$};
                \node[DCgreen] at (1.5, 5.2) [above] {\Large Taylor Series Context};

                \draw[DCblue] (5,0) -- (5,5);
                \draw[DCblue] (5,5) -- (8,5);
                \draw[DCblue] (8,5) -- (8,0);
                \draw[DCblue] (8,0) -- (5,0);
                \node[DCblue] at (6.5, 4) [above] {$f(x)$};
                \node[DCblue] at (6.5, 0.85) [below] {$A(f(x))$};
                \draw[-latex, line width = 1.5pt][DCblue] (6.4, 3.7) -- (6.4, 1.2);
                \node[DCblue] at (6.4, 2.8) [right] {apply};
                \node[DCblue] at (6.4, 2.45) [right] {operation};
                \node[DCblue] at (6.4, 2.1) [right] {$A$};
                \node[DCblue] at (6.5, 5.2) [above] {\Large Function Context};

                \draw[latex-latex, line width = 1.2pt][DCred] (2.9, 0.6) -- (5.5, 0.6);
                \node[DCred] at (4, 0.6) [above] {equivalent};
                \node[DCred] at (4, 0.6) [below] {on IOC};

                \draw[latex-latex, line width = 1.2pt][DCred] (2.9, 4.4) -- (5.5, 4.4);
                \node[DCred] at (4, 4.4) [above] {equivalent};
                \node[DCred] at (4, 4.4) [below] {on IOC};
            \end{tikzpicture}
        </latex-image>
      </image>
    </figure>
    <p>
      So when the operation <m>A</m> is something from either <xref ref="thm-OperationsPowerSeries" text="type-global-title"/> or <xref ref="thm-DiffPowerSeries" text="type-global-title"/>, then we can apply these operations to the Taylor series of <m>f(x)</m> in order to construct the Taylor series of <m>A(f(x))</m>. Interestingly enough, we can note that the intervals of convergence can be mostly constructed from these same transformations: there might be some changes to the inclusion of the endpoints based on differentiation and integration.
    </p>
    <p>
      Now that we have a convenient way of constructing Taylor series for conveniently linked functions, we should think about how we might use these Taylor series representations of functions.
    </p>
  </conclusion>
</section>